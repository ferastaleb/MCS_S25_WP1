<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชูุงุตูู ุงููุนุงููุฉ - ุฏููู ูุนุงููุงุช ุงููุฏููุฉ</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <style>
        .gallery-img {
            height: 100px;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .gallery-img:hover {
            transform: scale(1.05);
        }
        .event-header {
            background: linear-gradient(135deg, #4361ee, #3a0ca3);
            color: white;
            padding: 60px 0;
            margin-top: 76px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
            <div class="container">
                <a class="navbar-brand d-flex align-items-center" href="index.html">
                    <img src="assets/img/logo.jpg" alt="ุดุนุงุฑ ุฏููู ุงููุนุงููุงุช" height="40" class="me-2">
                    <span class="fw-bold text-primary">ุฏููู ูุนุงููุงุช ุงููุฏููุฉ</span>
                </a>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">ุงูุฑุฆูุณูุฉ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="events.html">ุงููุนุงููุงุช</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">ุนู ุงูุฏููู</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">ุงุชุตู ุจูุง</a>
                        </li>
                         <li class="nav-item">
            <button class="btn btn-outline-secondary btn-sm ms-2" onclick="toggleDarkMode()" id="darkModeToggle">
                <i class="fas fa-moon me-1"></i> ูุถุน ุงูููู
            </button>
        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- ูุณู ุฑุฃุณ ุงููุนุงููุฉ -->
        <section class="event-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <span class="badge bg-light text-primary fs-6 mb-3" id="eventCategory">ุซูุงูุฉ</span>
                        <h1 class="display-5 fw-bold mb-3" id="eventTitle">ุนููุงู ุงููุนุงููุฉ</h1>
                        <div class="d-flex flex-wrap gap-4 mb-3">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-calendar-alt me-2 fa-lg"></i>
                                <span id="eventDate">ุงูุชุงุฑูุฎ</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-clock me-2 fa-lg"></i>
                                <span id="eventTime">ุงูููุช</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-map-marker-alt me-2 fa-lg"></i>
                                <span id="eventLocation">ุงูููุงู</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="card shadow-lg">
                            <div class="card-body">
                                <h5 class="card-title">ุณุงุฑุน ุจุงูุชุณุฌูู</h5>
                                <h3 class="text-primary fw-bold mb-3" id="eventPrice">ูุฌุงูู</h3>
                                <div class="d-grid gap-2">
                                    <button class="btn btn-primary btn-lg" onclick="registerForEvent()">
                                        <i class="fas fa-calendar-plus me-2"></i> ุฃุถู ููุชูููู
                                    </button>
                                    <button class="btn btn-outline-primary btn-lg" onclick="shareCurrentEvent()">
                                        <i class="fas fa-share-alt me-2"></i> ุดุงุฑู ุงููุนุงููุฉ
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ุชูุงุตูู ุงููุนุงููุฉ -->
        <section class="container py-5">
            <div class="row">
                <div class="col-lg-8">
                    <!-- ุตูุฑุฉ ุงููุนุงููุฉ ุงูุฑุฆูุณูุฉ -->
                    <div class="mb-5">
                        <img id="mainEventImage" src="assets/img/food-festival.jpg" 
                             class="img-fluid rounded shadow" alt="ุตูุฑุฉ ุงููุนุงููุฉ" style="max-height: 400px; width: 100%; object-fit: cover;">
                    </div>

                    <!-- ูุตู ุงููุนุงููุฉ -->
                    <div class="mb-5">
                        <h3 class="mb-4 text-primary">๐ ุนู ุงููุนุงููุฉ</h3>
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <p class="lead" id="eventDescription">
                                    ูุตู ููุตู ูููุนุงููุฉ ุณูุธูุฑ ููุง...
                                </p>
                                
                                <h5 class="mt-4 text-primary">๐ฏ ุฃูุฏุงู ุงููุนุงููุฉ:</h5>
                                <ul class="list-group list-group-flush mb-4">
                                    <li class="list-group-item">ุชุนุฒูุฒ ุงูุซูุงูุฉ ุงููุฌุชูุนูุฉ</li>
                                    <li class="list-group-item">ุชูููุฑ ูุฑุต ููุชุฑููู ูุงูุชุนููู</li>
                                    <li class="list-group-item">ุฏุนู ุงูููุงูุจ ุงููุญููุฉ</li>
                                </ul>

                                <h5 class="mt-4 text-primary">๐ ูุง ุณูุญุตู ุนููู ุงููุดุงุฑููู:</h5>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="card h-100 border-primary">
                                            <div class="card-body text-center">
                                                <i class="fas fa-gift fa-2x text-primary mb-3"></i>
                                                <h6>ูุฏุงูุง ุชุฐูุงุฑูุฉ</h6>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card h-100 border-primary">
                                            <div class="card-body text-center">
                                                <i class="fas fa-utensils fa-2x text-primary mb-3"></i>
                                                <h6>ูุฃูููุงุช ูุฌุงููุฉ</h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ูุนุฑุถ ุงูุตูุฑ -->
                    <div class="mb-5">
                        <h3 class="mb-4 text-primary">๐ผ๏ธ ูุนุฑุถ ุงูุตูุฑ</h3>
                        <div class="row g-3" id="eventGallery">
                            <!-- ุณูุชู ููุคูุง ุนุจุฑ JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
                <div class="col-lg-4">
                    <!-- ูุนูููุงุช ุงูููุธู -->
                    <div class="card shadow-sm mb-4">
                        <div class="card-body">
                            <h5 class="card-title text-primary">๐ข ุงูููุธู</h5>
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-primary rounded-circle p-3 me-3">
                                    <i class="fas fa-building fa-2x text-white"></i>
                                </div>
                                <div>
                                    <h6 id="eventOrganizer">ุงุณู ุงูููุธู</h6>
                                    <small class="text-muted">ููุธู ุงููุนุงููุฉ</small>
                                </div>
                            </div>
                            <button class="btn btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#organizerModal">
                                <i class="fas fa-info-circle me-2"></i> ุงููุฒูุฏ ุนู ุงูููุธู
                            </button>
                        </div>
                    </div>

                    <!-- ุฎุฑูุทุฉ ุงููููุน -->
                    <div class="card shadow-sm mb-4">
                        <div class="card-body">
                            <h5 class="card-title text-primary">๐บ๏ธ ูููุน ุงููุนุงููุฉ</h5>
                            <div class="bg-light rounded p-3 text-center mb-3" style="height: 200px;">
                                <i class="fas fa-map fa-3x text-muted mb-3"></i>
                                <p id="eventLocationText">ูููุน ุงููุนุงููุฉ</p>
                            </div>
                            <button class="btn btn-primary w-100" onclick="openMap()">
                                <i class="fas fa-directions me-2"></i> ุงูุชุญ ูู ุฎุฑุงุฆุท ุฌูุฌู
                            </button>
                        </div>
                    </div>

                    <!-- ูุนุงููุงุช ุฐุงุช ุตูุฉ -->
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h5 class="card-title text-primary">๐ ูุนุงููุงุช ุฐุงุช ุตูุฉ</h5>
                            <div id="relatedEvents">
                                <!-- ุณูุชู ููุคูุง ุนุจุฑ JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5 class="fw-bold">ุฏููู ูุนุงููุงุช ุงููุฏููุฉ</h5>
                    <p>ููุตุฉ ุชุฌูุน ูู ุงููุนุงููุงุช ูุงูุฃูุดุทุฉ ูู ูุฏููุฉ ูุงุญุฏุฉ</p>
                </div>
                <div class="col-md-4">
                    <h5 class="fw-bold">ุฑูุงุจุท ุณุฑูุนุฉ</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white text-decoration-none">ุงูุฑุฆูุณูุฉ</a></li>
                        <li><a href="events.html" class="text-white text-decoration-none">ุงููุนุงููุงุช</a></li>
                        <li><a href="about.html" class="text-white text-decoration-none">ุนู ุงูุฏููู</a></li>
                        <li><a href="contact.html" class="text-white text-decoration-none">ุงุชุตู ุจูุง</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5 class="fw-bold">ุชุงุจุนูุง</h5>
                    <div class="social-icons">
                        <a href="#" class="text-white me-3"><i class="fab fa-facebook fa-2x"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-2x"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-instagram fa-2x"></i></a>
                    </div>
                    <p class="mt-3">ยฉ <span class="current-year">2025</span> ุฏููู ูุนุงููุงุช ุงููุฏููุฉ. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal ููููุธู -->
    <div class="modal fade" id="organizerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ูุนูููุงุช ุงูููุธู</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="organizerInfo">
                        ูุนูููุงุช ุงูููุธู ุณุชุธูุฑ ููุง...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="assets/js/main.js"></script>
    
    <script>
        // ุจูุงูุงุช ุงููุนุงููุงุช (ููุณ ุจูุงูุงุช events.html)
       const events = [
    {
        id: 1,
        title: "ููุฑุฌุงู ุงูุทุนุงู ุงูุนุงููู",
        date: "ุงูุฌูุนุฉ 18 ุฏูุณูุจุฑ 2025",
        time: "10:00 ุตุจุงุญุงู - 10:00 ูุณุงุกู",
        location: "ุงูุญุฏููุฉ ุงููุฑูุฒูุฉ",
        category: "ุซูุงูุฉ",
        image: "assets/img/food-festival.jpg",
        description: `ููุฑุฌุงู ุงูุทุนุงู ุงูุนุงููู ูู ุญุฏุซ ุณููู ูุฌูุน ุฃูุถู ุงููุทุงุนู ูุงูุดููุงุช ูู ุงููุฏููุฉ ูุนุฑุถ ุฃุทุจุงููู ุงููููุฒุฉ ูู ูุฎุชูู ุงูุซูุงูุงุช.`,
        price: "ูุฌุงูู",
        organizer: "ุจูุฏูุฉ ุงููุฏููุฉ",
        organizerInfo: "ุจูุฏูุฉ ุงููุฏููุฉ ูู ุงูุฌูุฉ ุงูููุธูุฉ ููุนุฏูุฏ ูู ุงููุนุงููุงุช ุงูุซูุงููุฉ ูุงูุชุฑููููุฉ ูู ุงููุฏููุฉ.",
        gallery: [
            "assets/img/food1.jpg",
            "assets/img/food2.jpg",
            "assets/img/food3.jpg",
            "assets/img/food4.jpg"
        ]
    },
    {
        id: 2,
        title: "ูุงุฑุงุซูู ุงููุฏููุฉ ุงูุณููู",
        date: "ุงูุณุจุช 20 ุฏูุณูุจุฑ 2025",
        time: "07:00 ุตุจุงุญุงู - 12:00 ุธูุฑุงู",
        location: "ุดูุงุฑุน ุงููุฏููุฉ",
        category: "ุฑูุงุถุฉ",
        image: "assets/img/marathon.jpg",
        description: `ูุงุฑุงุซูู ูุฌููุน ุงูุฃุนูุงุฑ ูุงููุณุชููุงุช ูุน ุฌูุงุฆุฒ ูููุฉ ูููุฑุงูุฒ ุงูุฃููู`,
        price: "25000 ููุฑุฉ",
        organizer: "ูุงุฏู ุงููุฏููุฉ ุงูุฑูุงุถู",
        organizerInfo: "ูุงุฏู ุงููุฏููุฉ ุงูุฑูุงุถู ูู ููุธูุฉ ุฑูุงุถูุฉ ุชูุฏู ุฅูู ุชูุธูู ุงููุนุงููุงุช ุงูุฑูุงุถูุฉ ูู ุงููุฏููุฉ.",
        gallery: [
            "assets/img/marathon1.jpg",
            "assets/img/marathon2.jpg",
            "assets/img/marathon3.jpg"
        ]
    },
    {
        id: 3,
        title: "ุญูู ููุณููู ุงูุฌุงุฒ",
        date: "ุงูุฃุญุฏ 22 ุฏูุณูุจุฑ 2025",
        time: "08:00 ูุณุงุกู - 11:00 ูุณุงุกู",
        location: "ูุงุนุฉ ุงููุคุชูุฑุงุช",
        category: "ููุณููู",
        image: "assets/img/jazz.jpg",
        description: `ุฃูุถู ูุฑู ุงูุฌุงุฒ ุงููุญููุฉ ูุงูุฏูููุฉ ูู ุญูู ูููุฒ ุชุญุช ุงููุฌูู`,
        price: "15000 ููุฑุฉ",
        organizer: "ูุคุณุณุฉ ุงููููู",
        organizerInfo: "ูุคุณุณุฉ ุงููููู ูู ูุคุณุณุฉ ุซูุงููุฉ ุชูุฏู ุฅูู ุฏุนู ุงููููู ูุงูููุณููู ูู ุงููุฏููุฉ.",
        gallery: [
            "assets/img/jazz1.jpg",
            "assets/img/jazz2.jpg"
        ]
    },
    {
        id: 4,
        title: "ูุฑุดุฉ ุงููู ููุฃุทูุงู",
        date: "ุงูุงุซููู 24 ุฏูุณูุจุฑ 2025",
        time: "03:00 ูุณุงุกู - 05:00 ูุณุงุกู",
        location: "ูุฑูุฒ ุงูุฅุจุฏุงุน",
        category: "ุนุงุฆูุฉ",
        image: "assets/img/kids-art.jpg",
        description: `ูุฑุดุฉ ูููุฉ ุชุนููููุฉ ููุฃุทูุงู ูุน ููุงููู ูุญุชุฑููู`,
        price: "10000 ููุฑุฉ",
        organizer: "ูุฑูุฒ ุงูุฅุจุฏุงุน",
        organizerInfo: "ูุฑูุฒ ุงูุฅุจุฏุงุน ูู ูุฑูุฒ ุชุนูููู ูุชุฑูููู ููุฃุทูุงู ูู ุงููุฏููุฉ.",
        gallery: [
            "assets/img/kids1.jpg",
            "assets/img/kids2.jpg",
            "assets/img/kids3.jpg"
        ]
    },
    {
        id: 5,
        title: "ูุฏูุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู",
        date: "ุงูุฎููุณ 26 ุฏูุณูุจุฑ 2025",
        time: "06:00 ูุณุงุกู - 09:00 ูุณุงุกู",
        location: "ุฌุงูุนุฉ ุงููุฏููุฉ",
        category: "ุชุนููู",
        image: "assets/img/ai.jpg",
        description: `ุฃุญุฏุซ ุชุทูุฑุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชุทุจููุงุชู ูู ุงูุญูุงุฉ ุงูููููุฉ`,
        price: "ูุฌุงูู",
        organizer: "ูููุฉ ุงูุญุงุณุจุงุช",
        organizerInfo: "ูููุฉ ุงูุญุงุณุจุงุช ูู ุฌุงูุนุฉ ุงููุฏููุฉ ุชูุฏู ุฅูู ูุดุฑ ุงููุนุฑูุฉ ุงูุชูููุฉ.",
        gallery: [
            "assets/img/ai1.jpg",
            "assets/img/ai2.jpg"
        ]
    },
    {
        id: 6,
        title: "ูุนุฑุถ ุงูุณูุงุฑุงุช ุงูููุงุณูููุฉ",
        date: "ุงูุณุจุช 28 ุฏูุณูุจุฑ 2025",
        time: "09:00 ุตุจุงุญุงู - 06:00 ูุณุงุกู",
        location: "ููุฏุงู ุงููุนุงุฑุถ",
        category: "ุซูุงูุฉ",
        image: "assets/img/cars.jpg",
        description: `ุนุฑุถ ูุฃูุฏุฑ ุงูุณูุงุฑุงุช ุงูููุงุณูููุฉ ูุงููุนุฏูุฉ`,
        price: "20000 ููุฑุฉ",
        organizer: "ูุงุฏู ููุงุฉ ุงูุณูุงุฑุงุช",
        organizerInfo: "ูุงุฏู ููุงุฉ ุงูุณูุงุฑุงุช ูุฌูุน ูุญุจู ุงูุณูุงุฑุงุช ุงูููุงุณูููุฉ ูุงููุงุฏุฑุฉ.",
        gallery: [
            "assets/img/cars1.jpg",
            "assets/img/cars2.jpg",
            "assets/img/cars3.jpg"
        ]
    },
    {
        id: 7,
        title: "ุจุทููุฉ ูุฑุฉ ุงููุฏู ููุดุจุงุจ",
        date: "ุงูุงุซููู 30 ุฏูุณูุจุฑ 2025",
        time: "04:00 ูุณุงุกู - 08:00 ูุณุงุกู",
        location: "ุงูููุนุจ ุงูุฃูููุจู",
        category: "ุฑูุงุถุฉ",
        image: "assets/img/football.jpg",
        description: `ุจุทููุฉ ุจูู ุฃูุฏูุฉ ุงูุดุจุงุจ ุชุญุช 18 ุณูุฉ`,
        price: "ูุฌุงูู",
        organizer: "ุงุชุญุงุฏ ูุฑุฉ ุงููุฏู",
        organizerInfo: "ุงุชุญุงุฏ ูุฑุฉ ุงููุฏู ุงููุญูู ููุธู ุงูุจุทููุงุช ูุงููุณุงุจูุงุช ุงูุฑูุงุถูุฉ.",
        gallery: [
            "assets/img/football1.jpg",
            "assets/img/football2.jpg"
        ]
    },
    {
        id: 8,
        title: "ุญูู ุงูุฃูุฑูุณุชุฑุง ุงูุณููููููุฉ",
        date: "ุงูุฃุฑุจุนุงุก 1 ููุงูุฑ 2026",
        time: "07:30 ูุณุงุกู - 10:00 ูุณุงุกู",
        location: "ุงููุณุฑุญ ุงููุทูู",
        category: "ููุณููู",
        image: "assets/img/event1.jpg",
        description: `ุงุญุชูุงู ุจุงูุนุงู ุงูุฌุฏูุฏ ูุน ุฃุฑูุน ุงูููุทูุนุงุช ุงูููุงุณูููุฉ`,
        price: "100000 ููุฑุฉ",
        organizer: "ุงูุฃูุฑูุณุชุฑุง ุงููุทููุฉ",
        organizerInfo: "ุงูุฃูุฑูุณุชุฑุง ุงููุทููุฉ ูู ูุฌููุนุฉ ููุณูููุฉ ูุญุชุฑูุฉ ุชูุฏู ุนุฑูุถุงู ุณููููููุฉ.",
        gallery: [
            "assets/img/orchestra1.jpg",
            "assets/img/orchestra2.jpg"
        ]
    }
];

// ุชุญููู ุจูุงูุงุช ุงููุนุงููุฉ ุจูุงุกู ุนูู ID ูู URL
document.addEventListener('DOMContentLoaded', function() {
    // ุงูุญุตูู ุนูู ID ุงููุนุงููุฉ ูู ุงูุฑุงุจุท
    const urlParams = new URLSearchParams(window.location.search);
    const eventId = urlParams.get('id');
    
    console.log("ID ุงููุนุงููุฉ ูู ุงูุฑุงุจุท:", eventId); // ููุชุตุญูุญ
    
    // ุงูุจุญุซ ุนู ุงููุนุงููุฉ ุงูููุงุณุจุฉ
    let event;
    
    if (eventId) {
        // ุงูุจุญุซ ุจุงุณุชุฎุฏุงู ID ุงููุนุงููุฉ
        event = events.find(e => e.id == eventId); // ุงุณุชุฎุฏุงู == ูููุณ === ูุฃู eventId ูู URL ูุฃุชู ููุต
    }
    
    // ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุนุงููุฉุ ูุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ุฃู ูุนูุฏ ุงูุชูุฌูู
    if (!event) {
        console.error("ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุนุงููุฉ ูุน ID:", eventId);
        
        // ุนุฑุถ ุฑุณุงูุฉ ูููุณุชุฎุฏู
        document.querySelector('main').innerHTML = `
            <div class="container mt-5 pt-5">
                <div class="alert alert-danger text-center" role="alert">
                    <h4 class="alert-heading">โ๏ธ ุงููุนุงููุฉ ุบูุฑ ููุฌูุฏุฉ</h4>
                    <p>ุนุฐุฑุงูุ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุนุงููุฉ ุงููุทููุจุฉ.</p>
                    <hr>
                    <p class="mb-0">
                        <a href="events.html" class="btn btn-primary">ุนุฑุถ ุฌููุน ุงููุนุงููุงุช</a>
                        <a href="index.html" class="btn btn-outline-primary ms-2">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</a>
                    </p>
                </div>
            </div>
        `;
        return; // ุฅููุงู ุชูููุฐ ุจุงูู ุงูููุฏ
    }
    
    // ุชุญุฏูุซ ูุญุชูู ุงูุตูุญุฉ ุจุงูุจูุงูุงุช
    updatePageContent(event);
    
    // ุนุฑุถ ูุนุงููุงุช ุฐุงุช ุตูุฉ
    displayRelatedEvents(event.category, event.id);
});

// ุฏุงูุฉ ุชุญุฏูุซ ูุญุชูู ุงูุตูุญุฉ
function updatePageContent(event) {
    document.getElementById('eventTitle').textContent = event.title;
    document.getElementById('eventCategory').textContent = event.category;
    document.getElementById('eventDate').textContent = event.date;
    document.getElementById('eventTime').textContent = event.time;
    document.getElementById('eventLocation').textContent = event.location;
    document.getElementById('eventLocationText').textContent = event.location;
    document.getElementById('eventDescription').textContent = event.description;
    document.getElementById('eventPrice').textContent = event.price;
    document.getElementById('eventOrganizer').textContent = event.organizer;
    document.getElementById('mainEventImage').src = event.image;
    document.getElementById('mainEventImage').alt = event.title;
    document.getElementById('organizerInfo').textContent = event.organizerInfo;
    
    // ุชุญุฏูุซ ุนููุงู ุงูุตูุญุฉ
    document.title = `${event.title} - ุฏููู ูุนุงููุงุช ุงููุฏููุฉ`;
    
    // ุฅูุดุงุก ูุนุฑุถ ุงูุตูุฑ
    const galleryContainer = document.getElementById('eventGallery');
    galleryContainer.innerHTML = ''; // ุชูุฑูุบ ุงููุญุชูู ุงููุฏูู
    
    if (event.gallery && event.gallery.length > 0) {
        event.gallery.forEach((imgSrc, index) => {
            galleryContainer.innerHTML += `
                <div class="col-6 col-md-3">
                    <img src="${imgSrc}" 
                         class="img-fluid rounded gallery-img" 
                         alt="ุตูุฑุฉ ${index + 1} ูู ${event.title}"
                         onclick="openImageModal('${imgSrc}')">
                </div>
            `;
        });
    } else {
        galleryContainer.innerHTML = `
            <div class="col-12 text-center">
                <p class="text-muted">ูุง ุชุชููุฑ ุตูุฑ ุฅุถุงููุฉ ููุฐู ุงููุนุงููุฉ</p>
            </div>
        `;
    }
}

// ุฏุงูุฉ ุนุฑุถ ุงููุนุงููุงุช ุฐุงุช ุงูุตูุฉ (ูุญุฏุซุฉ)
function displayRelatedEvents(category, currentId) {
    // ุชุตููุฉ ุงููุนุงููุงุช ูู ููุณ ุงููุฆุฉ ูููู ููุณุช ุงููุนุงููุฉ ุงูุญุงููุฉ
    const relatedEvents = events.filter(e => 
        e.category === category && e.id != currentId
    ).slice(0, 3); // ุฃุฎุฐ ุฃูู 3 ูุนุงููุงุช ููุท
    
    const container = document.getElementById('relatedEvents');
    container.innerHTML = ''; // ุชูุฑูุบ ุงููุญุชูู ุงููุฏูู
    
    if (relatedEvents.length === 0) {
        container.innerHTML = '<p class="text-muted">ูุง ุชูุฌุฏ ูุนุงููุงุช ุฐุงุช ุตูุฉ ุญุงููุงู</p>';
        return;
    }
    
    relatedEvents.forEach(event => {
        container.innerHTML += `
            <div class="mb-3">
                <a href="event.html?id=${event.id}" class="text-decoration-none">
                    <div class="d-flex align-items-center border rounded p-2 hover-effect">
                        <img src="${event.image}" 
                             alt="${event.title}" 
                             class="rounded me-2"
                             style="width: 60px; height: 60px; object-fit: cover;">
                        <div>
                            <h6 class="mb-0 text-dark">${event.title}</h6>
                            <small class="text-muted">${event.date}</small>
                        </div>
                    </div>
                </a>
            </div>
        `;
    });
    
    container.innerHTML += `
        <div class="text-center mt-3">
            <a href="events.html?category=${category}" class="btn btn-sm btn-outline-primary">
                ุงููุฒูุฏ ูู ูุนุงููุงุช ${category} <i class="fas fa-arrow-left ms-1"></i>
            </a>
        </div>
    `;
}

        // ุฏุงูุฉ ูุชุญ ุตูุฑุฉ ูู ููุฏุงู
        function openImageModal(imgSrc) {
            // ูู ุชุทุจูู ุญููููุ ูููู ุงุณุชุฎุฏุงู ููุฏุงู ูุนุฑุถ ุงูุตูุฑุฉ ุจุดูู ุฃูุจุฑ
            window.open(imgSrc, '_blank');
        }

        // ุฏุงูุฉ ุฅุถุงูุฉ ููุชูููู
        function registerForEvent() {
            const eventTitle = document.getElementById('eventTitle').textContent;
            const eventDate = document.getElementById('eventDate').textContent;
            
            // ูู ุชุทุจูู ุญููููุ ูููู ุงุณุชุฎุฏุงู APIs ูุซู Google Calendar API
            // ููุง ูุนุฑุถ ูููุฐุฌ ุญุฌุฒ ูููู (Bonus Feature)
            const modalHTML = `
                <div class="modal fade" id="registerModal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">ุญุฌุฒ ููุงู ูู ุงููุนุงููุฉ</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <p>ุฃูุช ุชุญุฌุฒ ููุงูุงู ูู ูุนุงููุฉ: <strong>${eventTitle}</strong></p>
                                <form id="bookingForm">
                                    <div class="mb-3">
                                        <label class="form-label">ุนุฏุฏ ุงูุฃุดุฎุงุต</label>
                                        <input type="number" class="form-control" value="1" min="1" max="10">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">ููุงุญุธุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)</label>
                                        <textarea class="form-control" rows="3" placeholder="ุฃู ูุชุทูุจุงุช ุฎุงุตุฉ..."></textarea>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ุฅูุบุงุก</button>
                                <button type="button" class="btn btn-primary" onclick="confirmBooking()">ุชุฃููุฏ ุงูุญุฌุฒ</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // ุฅุถุงูุฉ ุงูููุฏุงู ุฅูู ุงูุตูุญุฉ ูุนุฑุถู
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            const modal = new bootstrap.Modal(document.getElementById('registerModal'));
            modal.show();
            
            // ุชูุธูู ุงูููุฏุงู ุจุนุฏ ุงูุฅุบูุงู
            document.getElementById('registerModal').addEventListener('hidden.bs.modal', function() {
                this.remove();
            });
        }

        // ุฏุงูุฉ ุชุฃููุฏ ุงูุญุฌุฒ
        function confirmBooking() {
            alert('ุชู ุญุฌุฒ ููุงูู ุจูุฌุงุญ! ุณูุตูู ุชุฃููุฏ ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู.');
            const modal = bootstrap.Modal.getInstance(document.getElementById('registerModal'));
            modal.hide();
            
            // ูู ุชุทุจูู ุญููููุ ููุง ูุฑุณู ุงูุจูุงูุงุช ููุฎุงุฏู
            addToCalendar(
                document.getElementById('eventTitle').textContent,
                document.getElementById('eventDate').textContent
            );
        }

        // ุฏุงูุฉ ูุดุงุฑูุฉ ุงููุนุงููุฉ ุงูุญุงููุฉ
        function shareCurrentEvent() {
            const eventTitle = document.getElementById('eventTitle').textContent;
            const currentUrl = window.location.href;
            shareEvent(eventTitle, currentUrl);
        }

        // ุฏุงูุฉ ูุชุญ ุงูุฎุฑูุทุฉ
        function openMap() {
            const location = document.getElementById('eventLocation').textContent;
            // ูู ุชุทุจูู ุญููููุ ูุณุชุฎุฏู ุฅุญุฏุงุซูุงุช ุงููููุน
            alert(`ุณูุชู ูุชุญ ูููุน "${location}" ูู ุชุทุจูู ุงูุฎุฑุงุฆุท`);
            // window.open(`https://maps.google.com/?q=${encodeURIComponent(location)}`);
        }
    </script>
</body>
</html>

